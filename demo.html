<!DOCTYPE html>
<html>
<head><title>HVACFlow Demo</title></head>
<body style="background:#000;color:#0f0;font-family:Arial;margin:0;padding:20px;">
  <h1>HVACFlow™</h1>
  <div id="chat" style="height:60vh;overflow:auto;border:1px solid #0f0;padding:10px;background:#111;"></div>
  <input id="input" placeholder="AC not cooling?" style="width:100%;padding:12px;background:#111;color:#0f0;border:1px solid #0f0;margin-top:10px;" />
  <script>
    const chat = document.getElementById('chat');
    const input = document.getElementById('input');

    async function ask(q) {
      const res = await fetch('/ask', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ q })
      });
      const data = await res.json();
      return data.reply;
    }

    input.onkeypress = async (e) => {
      if (e.key === 'Enter' && input.value) {
        const msg = input.value;
        chat.innerHTML += `<p><b>You:</b> ${msg}</p>`;
        input.value = '';
        const reply = await ask(msg);
        chat.innerHTML += `<p><b>HVACFlow™:</b> ${reply}</p>`;
        chat.scrollTop = chat.scrollHeight;
      }
    };
  </script>
</body>
</html>
